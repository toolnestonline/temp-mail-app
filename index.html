<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TempMail Shield - Secure Disposable Email</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #6B73FF 0%, #000DFF 50%, #0085FF 100%);
        }
        .email-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        .copy-btn:hover .copy-icon {
            transform: scale(1.1);
        }
        .inbox-item:hover {
            background-color: rgba(107, 114, 255, 0.05);
        }
        .ad-banner {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(107, 114, 255, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(107, 114, 255, 0); }
            100% { box-shadow: 0 0 0 0 rgba(107, 114, 255, 0); }
        }
        .fade-in {
            animation: fadeIn 0.5s;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- Header -->
    <header class="gradient-bg text-white">
        <div class="container mx-auto px-4 py-6">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-2">
                    <i class="fas fa-shield-alt text-2xl"></i>
                    <h1 class="text-2xl font-bold">TempMail Shield</h1>
                </div>
                <nav class="hidden md:flex space-x-6">
                    <a href="#" class="hover:text-gray-200 transition">Home</a>
                    <a href="#" class="hover:text-gray-200 transition">Features</a>
                    <a href="#" class="hover:text-gray-200 transition">FAQ</a>
                    <a href="#" class="hover:text-gray-200 transition">Contact</a>
                </nav>
                <button class="md:hidden text-xl">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="gradient-bg text-white py-16">
        <div class="container mx-auto px-4 text-center">
            <h2 class="text-4xl md:text-5xl font-bold mb-6">Secure Disposable Email</h2>
            <p class="text-xl mb-8 max-w-2xl mx-auto">Protect your real email from spam, hackers, and bots with our free temporary email service.</p>
            
            <div class="max-w-2xl mx-auto bg-white rounded-lg p-1 shadow-xl">
                <div class="flex flex-col md:flex-row">
                    <div class="flex-grow p-3 bg-gray-100 rounded-l-lg">
                        <div class="flex items-center">
                            <span class="text-gray-500 mr-2">Your temporary email:</span>
                            <span id="temp-email" class="font-mono text-blue-600 font-bold">loading...</span>
                        </div>
                    </div>
                    <button id="copy-btn" class="copy-btn bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-r-lg transition flex items-center justify-center">
                        <span class="copy-icon transition-transform"><i class="fas fa-copy mr-2"></i></span>
                        Copy
                    </button>
                </div>
            </div>
            
            <div class="mt-8 flex flex-wrap justify-center gap-4">
                <button id="generate-btn" class="bg-white text-blue-600 hover:bg-gray-100 px-6 py-3 rounded-full font-semibold transition flex items-center">
                    <i class="fas fa-redo-alt mr-2"></i> Generate New
                </button>
                <button id="share-btn" class="bg-white text-blue-600 hover:bg-gray-100 px-6 py-3 rounded-full font-semibold transition flex items-center">
                    <i class="fas fa-share-alt mr-2"></i> Share Email
                </button>
                <button id="refresh-btn" class="bg-white text-blue-600 hover:bg-gray-100 px-6 py-3 rounded-full font-semibold transition flex items-center">
                    <i class="fas fa-sync-alt mr-2"></i> Refresh Inbox
                </button>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-12">
        <div class="flex flex-col lg:flex-row gap-8">
            <!-- Inbox Section -->
            <div class="lg:w-2/3">
                <div class="bg-white rounded-xl shadow-md overflow-hidden">
                    <div class="bg-gray-100 px-6 py-4 border-b flex justify-between items-center">
                        <h3 class="text-xl font-semibold text-gray-800">
                            <i class="fas fa-inbox mr-2 text-blue-500"></i> Inbox
                            <span id="email-count" class="text-sm font-normal text-gray-500 ml-2">(0 emails)</span>
                        </h3>
                        <div class="flex items-center space-x-2">
                            <button id="auto-refresh-btn" class="text-gray-500 hover:text-blue-600">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                            <div class="relative">
                                <button class="text-gray-500 hover:text-blue-600">
                                    <i class="fas fa-filter"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div id="inbox-container" class="divide-y">
                        <!-- Emails will be loaded here -->
                        <div class="px-6 py-8 text-center text-gray-500">
                            <i class="fas fa-inbox text-4xl mb-4 text-gray-300"></i>
                            <p>Your inbox is empty</p>
                        </div>
                    </div>
                    
                    <div class="bg-gray-50 px-6 py-4 border-t flex items-center justify-between">
                        <div class="text-sm text-gray-500">
                            Showing <span id="email-start" class="font-medium">0</span> to <span id="email-end" class="font-medium">0</span> of <span id="email-total" class="font-medium">0</span> emails
                        </div>
                        <div class="flex space-x-2">
                            <button id="prev-page" class="px-3 py-1 rounded-md border text-sm font-medium text-gray-700 bg-white hover:bg-gray-50" disabled>
                                Previous
                            </button>
                            <button id="next-page" class="px-3 py-1 rounded-md border text-sm font-medium text-white bg-blue-600 hover:bg-blue-700" disabled>
                                Next
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Email Content Viewer -->
                <div id="email-viewer" class="hidden bg-white rounded-xl shadow-md mt-6 overflow-hidden">
                    <div class="bg-gray-100 px-6 py-4 border-b flex justify-between items-center">
                        <h3 id="email-viewer-title" class="text-xl font-semibold text-gray-800">Email Content</h3>
                        <button id="close-viewer" class="text-gray-500 hover:text-blue-600">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div id="email-content" class="p-6">
                        <!-- Email content will be loaded here -->
                    </div>
                </div>
            </div>
            
            <!-- Sidebar -->
            <div class="lg:w-1/3 space-y-6">
                <!-- Stats Card -->
                <div class="bg-white rounded-xl shadow-md overflow-hidden">
                    <div class="bg-gray-100 px-6 py-4 border-b">
                        <h3 class="text-lg font-semibold text-gray-800">
                            <i class="fas fa-chart-bar mr-2 text-blue-500"></i> Email Stats
                        </h3>
                    </div>
                    <div class="p-6">
                        <div class="space-y-4">
                            <div>
                                <p class="text-sm text-gray-500">Emails Received</p>
                                <p id="stats-count" class="text-2xl font-bold">0</p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-500">Email Lifetime</p>
                                <div class="flex items-center">
                                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                                        <div id="lifetime-bar" class="bg-blue-600 h-2.5 rounded-full" style="width: 100%"></div>
                                    </div>
                                    <span id="lifetime-text" class="ml-2 text-sm text-gray-500">3:00 left</span>
                                </div>
                            </div>
                            <div>
                                <p class="text-sm text-gray-500">Created</p>
                                <p id="created-time" class="font-medium">Just now</p>
                            </div>
                        </div>
                        <button id="extend-btn" class="mt-6 w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-md transition">
                            Extend Lifetime (24h)
                        </button>
                    </div>
                </div>
                
                <!-- Share Options -->
                <div class="bg-white rounded-xl shadow-md overflow-hidden">
                    <div class="bg-gray-100 px-6 py-4 border-b">
                        <h3 class="text-lg font-semibold text-gray-800">
                            <i class="fas fa-share-alt mr-2 text-blue-500"></i> Share Email
                        </h3>
                    </div>
                    <div class="p-6">
                        <p class="text-sm text-gray-600 mb-4">Share this temporary email address with services you don't trust to keep your real inbox clean.</p>
                        <div class="space-y-3">
                            <button class="w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50">
                                <i class="fab fa-facebook-f text-blue-600 mr-2"></i> Share on Facebook
                            </button>
                            <button class="w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50">
                                <i class="fab fa-twitter text-blue-400 mr-2"></i> Share on Twitter
                            </button>
                            <button id="copy-link-btn" class="w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50">
                                <i class="fas fa-link text-gray-600 mr-2"></i> Copy Shareable Link
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Ad Space -->
                <div class="ad-banner bg-gradient-to-r from-purple-500 to-blue-500 rounded-xl shadow-md overflow-hidden text-white">
                    <div class="p-6">
                        <h3 class="text-lg font-semibold mb-2">Upgrade to Premium</h3>
                        <p class="text-sm mb-4">Get unlimited email addresses, longer expiration times, and no ads!</p>
                        <button class="w-full bg-white text-blue-600 hover:bg-gray-100 py-2 rounded-md font-medium transition">
                            Learn More
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Features Section -->
    <section class="bg-gray-100 py-16">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12">Why Use TempMail Shield?</h2>
            <div class="grid md:grid-cols-3 gap-8">
                <div class="bg-white p-8 rounded-xl shadow-md text-center">
                    <div class="bg-blue-100 text-blue-600 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-shield-alt text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-3">Spam Protection</h3>
                    <p class="text-gray-600">Keep your real email safe from spam, marketing emails, and data breaches by using disposable addresses.</p>
                </div>
                <div class="bg-white p-8 rounded-xl shadow-md text-center">
                    <div class="bg-green-100 text-green-600 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-user-secret text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-3">Complete Anonymity</h3>
                    <p class="text-gray-600">Sign up for services without revealing your real identity or personal email address.</p>
                </div>
                <div class="bg-white p-8 rounded-xl shadow-md text-center">
                    <div class="bg-purple-100 text-purple-600 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-bolt text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-3">Instant Setup</h3>
                    <p class="text-gray-600">No registration required. Get a temporary email address instantly with one click.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12">
        <div class="container mx-auto px-4">
            <div class="grid md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-xl font-bold mb-4 flex items-center">
                        <i class="fas fa-shield-alt mr-2"></i> TempMail Shield
                    </h3>
                    <p class="text-gray-400">Providing secure, anonymous, disposable email addresses since 2023.</p>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">Quick Links</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Home</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Generate Email</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Inbox</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">FAQ</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">Legal</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Terms of Service</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Privacy Policy</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Cookie Policy</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">Connect</h4>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white transition text-xl">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition text-xl">
                            <i class="fab fa-facebook"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition text-xl">
                            <i class="fab fa-github"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition text-xl">
                            <i class="fab fa-reddit"></i>
                        </a>
                    </div>
                    <p class="text-gray-400 mt-4">support@tempmailshield.com</p>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400">
                <p>© 2023 TempMail Shield. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Modal for sharing -->
    <div id="share-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-md">
            <div class="flex justify-between items-center border-b px-6 py-4">
                <h3 class="text-lg font-semibold">Share Temporary Email</h3>
                <button id="close-share-modal" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="p-6">
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Email Address</label>
                    <div class="flex">
                        <input type="text" id="share-email" class="flex-1 border border-gray-300 rounded-l-md px-3 py-2" readonly>
                        <button id="copy-share-email" class="bg-blue-600 text-white px-4 py-2 rounded-r-md hover:bg-blue-700">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>
                </div>
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Share Link</label>
                    <div class="flex">
                        <input type="text" id="share-link" class="flex-1 border border-gray-300 rounded-l-md px-3 py-2" readonly>
                        <button id="copy-share-link" class="bg-blue-600 text-white px-4 py-2 rounded-r-md hover:bg-blue-700">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>
                </div>
                <div class="mt-6">
                    <p class="text-sm text-gray-600 mb-2">Share via:</p>
                    <div class="flex space-x-2">
                        <button class="bg-blue-600 text-white p-2 rounded-full hover:bg-blue-700">
                            <i class="fab fa-facebook-f"></i>
                        </button>
                        <button class="bg-blue-400 text-white p-2 rounded-full hover:bg-blue-500">
                            <i class="fab fa-twitter"></i>
                        </button>
                        <button class="bg-red-500 text-white p-2 rounded-full hover:bg-red-600">
                            <i class="fab fa-google"></i>
                        </button>
                        <button class="bg-gray-700 text-white p-2 rounded-full hover:bg-gray-800">
                            <i class="fab fa-github"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast notification -->
    <div id="toast" class="fixed bottom-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg hidden z-50">
        <div class="flex items-center">
            <i class="fas fa-check-circle mr-2"></i>
            <span id="toast-message">Copied to clipboard!</span>
        </div>
    </div>

    <script>
        // State management
        const state = {
            currentEmail: '',
            emails: [],
            currentPage: 1,
            emailsPerPage: 5,
            autoRefresh: false,
            emailExpiresAt: null,
            timer: null
        };

        // DOM elements
        const elements = {
            tempEmail: document.getElementById('temp-email'),
            copyBtn: document.getElementById('copy-btn'),
            generateBtn: document.getElementById('generate-btn'),
            shareBtn: document.getElementById('share-btn'),
            refreshBtn: document.getElementById('refresh-btn'),
            inboxContainer: document.getElementById('inbox-container'),
            emailViewer: document.getElementById('email-viewer'),
            closeViewer: document.getElementById('close-viewer'),
            emailContent: document.getElementById('email-content'),
            statsCount: document.getElementById('stats-count'),
            lifetimeBar: document.getElementById('lifetime-bar'),
            lifetimeText: document.getElementById('lifetime-text'),
            createdTime: document.getElementById('created-time'),
            extendBtn: document.getElementById('extend-btn'),
            shareModal: document.getElementById('share-modal'),
            closeShareModal: document.getElementById('close-share-modal'),
            shareEmail: document.getElementById('share-email'),
            shareLink: document.getElementById('share-link'),
            copyShareEmail: document.getElementById('copy-share-email'),
            copyShareLink: document.getElementById('copy-share-link'),
            copyLinkBtn: document.getElementById('copy-link-btn'),
            toast: document.getElementById('toast'),
            toastMessage: document.getElementById('toast-message'),
            emailCount: document.getElementById('email-count'),
            emailStart: document.getElementById('email-start'),
            emailEnd: document.getElementById('email-end'),
            emailTotal: document.getElementById('email-total'),
            prevPage: document.getElementById('prev-page'),
            nextPage: document.getElementById('next-page'),
            autoRefreshBtn: document.getElementById('auto-refresh-btn'),
            emailViewerTitle: document.getElementById('email-viewer-title')
        };

        // Sample email data
        const sampleEmails = [
            {
                id: 1,
                from: 'Amazon',
                subject: 'Order Confirmation #12345',
                body: 'Thank you for your order! Your package will be shipped within 2 business days. Order details: Item 1 x 2 ($49.98), Item 2 x 1 ($29.99). Total: $79.97.',
                time: '2 minutes ago',
                read: false,
                icon: 'shopping-bag',
                iconColor: 'blue'
            },
            {
                id: 2,
                from: 'Service Team',
                subject: 'Welcome to Our Service',
                body: 'Dear User,\n\nThank you for signing up for our service! We\'re excited to have you on board.\n\nTo get started, please verify your email address by clicking the button below:\n\n[Verify Email Address]\n\nIf you didn\'t request this email, you can safely ignore it.\n\nBest regards,\nThe Service Team',
                time: '15 minutes ago',
                read: false,
                icon: 'envelope',
                iconColor: 'green'
            },
            {
                id: 3,
                from: 'Security Team',
                subject: 'Unusual Login Attempt',
                body: 'We detected a login attempt from a new device:\n\nLocation: New York, US\nDevice: Chrome on Windows\nTime: Just now\n\nIf this was you, you can ignore this message. If not, please secure your account immediately.',
                time: '1 hour ago',
                read: false,
                icon: 'exclamation-triangle',
                iconColor: 'red'
            },
            {
                id: 4,
                from: 'Newsletter',
                subject: 'Weekly Tech Digest',
                body: 'This week in tech:\n1. New AI breakthroughs\n2. Latest smartphone releases\n3. Upcoming tech events\n4. Exclusive deals for subscribers\n\nRead more on our website!',
                time: '3 hours ago',
                read: true,
                icon: 'newspaper',
                iconColor: 'purple'
            },
            {
                id: 5,
                from: 'Support',
                subject: 'Your Ticket #45678',
                body: 'Hello,\n\nWe\'ve received your support request and will get back to you within 24 hours. Your ticket number is #45678.\n\nThank you for your patience.\n\nSupport Team',
                time: '1 day ago',
                read: true,
                icon: 'headset',
                iconColor: 'yellow'
            }
        ];

        // Initialize the app
        function init() {
            generateEmail();
            loadEmails();
            setupEventListeners();
            startEmailTimer();
            updatePagination();
        }

        // Generate a random email address
        function generateEmail() {
            const randomString = Math.random().toString(36).substring(2, 10);
            const domains = ['tempmailshield.com', 'mailshield.io', 'tempinbox.net', 'disposablemail.me'];
            const randomDomain = domains[Math.floor(Math.random() * domains.length)];
            state.currentEmail = `${randomString}@${randomDomain}`;
            elements.tempEmail.textContent = state.currentEmail;
            
            // Set expiration time (3 minutes from now)
            const now = new Date();
            state.emailExpiresAt = new Date(now.getTime() + 3 * 60000);
            
            // Update UI
            updateEmailStats();
        }

        // Load sample emails
        function loadEmails() {
            state.emails = [...sampleEmails];
            renderEmails();
            updateEmailStats();
        }

        // Render emails in the inbox
        function renderEmails() {
            const startIndex = (state.currentPage - 1) * state.emailsPerPage;
            const endIndex = startIndex + state.emailsPerPage;
            const paginatedEmails = state.emails.slice(startIndex, endIndex);
            
            if (paginatedEmails.length === 0) {
                elements.inboxContainer.innerHTML = `
                    <div class="px-6 py-8 text-center text-gray-500">
                        <i class="fas fa-inbox text-4xl mb-4 text-gray-300"></i>
                        <p>Your inbox is empty</p>
                    </div>
                `;
            } else {
                elements.inboxContainer.innerHTML = paginatedEmails.map(email => `
                    <div class="inbox-item px-6 py-4 hover:cursor-pointer transition ${email.read ? '' : 'bg-blue-50'}" data-id="${email.id}">
                        <div class="flex items-start">
                            <div class="flex-shrink-0 pt-1">
                                <div class="bg-${email.iconColor}-100 text-${email.iconColor}-600 rounded-full w-10 h-10 flex items-center justify-center">
                                    <i class="fas fa-${email.icon}"></i>
                                </div>
                            </div>
                            <div class="ml-4 flex-1 min-w-0">
                                <div class="flex justify-between">
                                    <p class="text-sm font-medium text-gray-900 truncate ${email.read ? '' : 'font-bold'}">${email.subject}</p>
                                    <p class="text-xs text-gray-500">${email.time}</p>
                                </div>
                                <p class="text-sm text-gray-500 truncate">${email.from}</p>
                            </div>
                        </div>
                    </div>
                `).join('');
            }
            
            // Add click event to each email item
            document.querySelectorAll('.inbox-item').forEach(item => {
                item.addEventListener('click', () => viewEmail(item.dataset.id));
            });
            
            updatePagination();
        }

        // View email content
        function viewEmail(id) {
            const email = state.emails.find(e => e.id === parseInt(id));
            if (!email) return;
            
            // Mark as read
            email.read = true;
            
            // Update UI
            elements.emailViewerTitle.textContent = email.subject;
            elements.emailContent.innerHTML = `
                <h2 class="text-2xl font-bold mb-4">${email.subject}</h2>
                <div class="flex items-center mb-6">
                    <div class="bg-${email.iconColor}-100 text-${email.iconColor}-600 rounded-full w-10 h-10 flex items-center justify-center mr-3">
                        <i class="fas fa-${email.icon}"></i>
                    </div>
                    <div>
                        <p class="font-medium">${email.from}</p>
                        <p class="text-sm text-gray-500">to me</p>
                    </div>
                    <div class="ml-auto text-sm text-gray-500">${email.time}</div>
                </div>
                <div class="prose max-w-none whitespace-pre-line">
                    ${email.body}
                </div>
                <div class="mt-8 pt-4 border-t">
                    <button class="text-blue-600 hover:text-blue-800 mr-4">
                        <i class="fas fa-reply mr-1"></i> Reply
                    </button>
                    <button class="text-blue-600 hover:text-blue-800 mr-4">
                        <i class="fas fa-share mr-1"></i> Forward
                    </button>
                    <button class="text-red-600 hover:text-red-800" onclick="deleteEmail(${email.id})">
                        <i class="fas fa-trash mr-1"></i> Delete
                    </button>
                </div>
            `;
            
            elements.emailViewer.classList.remove('hidden');
            elements.emailViewer.classList.add('fade-in');
            
            // Re-render emails to update read status
            renderEmails();
        }

        // Delete an email
        function deleteEmail(id) {
            state.emails = state.emails.filter(email => email.id !== id);
            renderEmails();
            updateEmailStats();
            
            // Close viewer if the deleted email was being viewed
            if (elements.emailContent.querySelector('button[onclick="deleteEmail(' + id + ')"]')) {
                elements.emailViewer.classList.add('hidden');
            }
        }

        // Update pagination controls
        function updatePagination() {
            const totalEmails = state.emails.length;
            const totalPages = Math.ceil(totalEmails / state.emailsPerPage);
            
            elements.emailStart.textContent = ((state.currentPage - 1) * state.emailsPerPage) + 1;
            elements.emailEnd.textContent = Math.min(state.currentPage * state.emailsPerPage, totalEmails);
            elements.emailTotal.textContent = totalEmails;
            elements.emailCount.textContent = `(${totalEmails} email${totalEmails !== 1 ? 's' : ''})`;
            
            elements.prevPage.disabled = state.currentPage === 1;
            elements.nextPage.disabled = state.currentPage === totalPages || totalPages === 0;
        }

        // Update email stats
        function updateEmailStats() {
            const unreadCount = state.emails.filter(email => !email.read).length;
            elements.statsCount.textContent = state.emails.length;
            
            // Update email count with unread indicator
            if (unreadCount > 0) {
                elements.emailCount.innerHTML = `(${state.emails.length} email${state.emails.length !== 1 ? 's' : ''}, <span class="text-blue-600 font-bold">${unreadCount} unread</span>)`;
            } else {
                elements.emailCount.textContent = `(${state.emails.length} email${state.emails.length !== 1 ? 's' : ''})`;
            }
        }

        // Start the email expiration timer
        function startEmailTimer() {
            clearInterval(state.timer);
            
            state.timer = setInterval(() => {
                const now = new Date();
                const timeLeft = state.emailExpiresAt - now;
                
                if (timeLeft <= 0) {
                    // Email expired, generate a new one
                    showToast('Your temporary email has expired. A new one has been generated.');
                    generateEmail();
                    return;
                }
                
                // Update the UI
                const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);
                
                elements.lifetimeText.textContent = `${minutes}:${seconds < 10 ? '0' + seconds : seconds} left`;
                
                // Update progress bar
                const totalLifetime = 3 * 60000; // 3 minutes
                const percentage = (timeLeft / totalLifetime) * 100;
                elements.lifetimeBar.style.width = `${percentage}%`;
                
                // Change color when less than 1 minute left
                if (timeLeft < 60000) {
                    elements.lifetimeBar.classList.remove('bg-blue-600');
                    elements.lifetimeBar.classList.add('bg-red-500');
                } else {
                    elements.lifetimeBar.classList.remove('bg-red-500');
                    elements.lifetimeBar.classList.add('bg-blue-600');
                }
            }, 1000);
        }

        // Show toast notification
        function showToast(message) {
            elements.toastMessage.textContent = message;
            elements.toast.classList.remove('hidden');
            
            setTimeout(() => {
                elements.toast.classList.add('hidden');
            }, 3000);
        }

        // Copy text to clipboard
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                showToast('Copied to clipboard!');
            }).catch(err => {
                console.error('Could not copy text: ', err);
                showToast('Failed to copy. Please try again.');
            });
        }

        // Setup event listeners
        function setupEventListeners() {
            // Copy email button
            elements.copyBtn.addEventListener('click', () => {
                copyToClipboard(state.currentEmail);
            });
            
            // Generate new email button
            elements.generateBtn.addEventListener('click', () => {
                generateEmail();
                showToast('New temporary email generated!');
            });
            
            // Share email button
            elements.shareBtn.addEventListener('click', () => {
                elements.shareEmail.value = state.currentEmail;
                elements.shareLink.value = `${window.location.href.split('?')[0]}?email=${encodeURIComponent(state.currentEmail)}`;
                elements.shareModal.classList.remove('hidden');
            });
            
            // Close share modal
            elements.closeShareModal.addEventListener('click', () => {
                elements.shareModal.classList.add('hidden');
            });
            
            // Copy share email
            elements.copyShareEmail.addEventListener('click', () => {
                copyToClipboard(elements.shareEmail.value);
            });
            
            // Copy share link
            elements.copyShareLink.addEventListener('click', () => {
                copyToClipboard(elements.shareLink.value);
            });
            
            // Copy link button
            elements.copyLinkBtn.addEventListener('click', () => {
                copyToClipboard(`${window.location.href.split('?')[0]}?email=${encodeURIComponent(state.currentEmail)}`);
            });
            
            // Refresh inbox button
            elements.refreshBtn.addEventListener('click', () => {
                // Simulate new emails coming in
                if (Math.random() > 0.5) {
                    const newEmail = {
                        id: Date.now(),
                        from: ['Service', 'Support', 'Newsletter', 'Notification'][Math.floor(Math.random() * 4)],
                        subject: ['New message', 'Important update', 'Your account', 'Security alert'][Math.floor(Math.random() * 4)],
                        body: 'This is a new email that just arrived in your inbox.',
                        time: 'Just now',
                        read: false,
                        icon: ['envelope', 'bell', 'exclamation-circle', 'info-circle'][Math.floor(Math.random() * 4)],
                        iconColor: ['blue', 'green', 'red', 'purple'][Math.floor(Math.random() * 4)]
                    };
                    state.emails.unshift(newEmail);
                    showToast('New email received!');
                } else {
                    showToast('No new emails');
                }
                renderEmails();
            });
            
            // Auto refresh toggle
            elements.autoRefreshBtn.addEventListener('click', () => {
                state.autoRefresh = !state.autoRefresh;
                if (state.autoRefresh) {
                    elements.autoRefreshBtn.classList.add('text-blue-600');
                    elements.autoRefreshBtn.classList.remove('text-gray-500');
                    showToast('Auto-refresh enabled (every 30 seconds)');
                    
                    // Start auto-refresh interval
                    state.autoRefreshInterval = setInterval(() => {
                        elements.refreshBtn.click();
                    }, 30000);
                } else {
                    elements.autoRefreshBtn.classList.remove('text-blue-600');
                    elements.autoRefreshBtn.classList.add('text-gray-500');
                    showToast('Auto-refresh disabled');
                    
                    // Clear auto-refresh interval
                    clearInterval(state.autoRefreshInterval);
                }
            });
            
            // Close email viewer
            elements.closeViewer.addEventListener('click', () => {
                elements.emailViewer.classList.add('hidden');
            });
            
            // Pagination controls
            elements.prevPage.addEventListener('click', () => {
                if (state.currentPage > 1) {
                    state.currentPage--;
                    renderEmails();
                }
            });
            
            elements.nextPage.addEventListener('click', () => {
                const totalPages = Math.ceil(state.emails.length / state.emailsPerPage);
                if (state.currentPage < totalPages) {
                    state.currentPage++;
                    renderEmails();
                }
            });
            
            // Extend lifetime button
            elements.extendBtn.addEventListener('click', () => {
                showToast('Premium feature - upgrade to extend email lifetime');
            });
            
            // Check for email parameter in URL
            const urlParams = new URLSearchParams(window.location.search);
            const emailParam = urlParams.get('email');
            if (emailParam) {
                state.currentEmail = decodeURIComponent(emailParam);
                elements.tempEmail.textContent = state.currentEmail;
                
                // Set expiration time (3 minutes from now)
                const now = new Date();
                state.emailExpiresAt = new Date(now.getTime() + 3 * 60000);
                
                // Update UI
                updateEmailStats();
                startEmailTimer();
            }
        }

        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', init);

        // Make deleteEmail function available globally
        window.deleteEmail = deleteEmail;
    </script>
</body>
</html>
